import{f as te,a as F,d as Fe,c as Ue}from"../chunks/Dr7GYMNK.js";import{o as Ne}from"../chunks/BuwaituZ.js";import{aM as Oe,g as Je,aN as Xe,n as je,h as x,D as De,Q as b,T as Ye,F as Ge,G as Le,I as de,v as fe,t as B,f as Y,C as Qe,aF as Ze,ap as Z,c as Ke,e as ve,b as Pe,s as We,aI as he,ah as $,aD as Re,aO as $e,r as Ve,p as et,aP as tt,aQ as at,aR as ie,q as rt,aS as it,aT as st,aC as nt,d as ot,aU as lt,aV as _e,K as ut,aW as ct,aj as dt,aX as ft,aY as vt,aH as ht,aZ as pt,B as mt,k as gt,J as bt,ab as wt,a_ as _t,a$ as kt,w as me,u as ee,aJ as L,ad as N,ae as O,af as z,A as ge,y as be,V as P,U as ke,x as ye,aL as yt}from"../chunks/BErioLlS.js";import{d as qe,s as Ct,e as Ce}from"../chunks/BWH_8esb.js";import{B as Et}from"../chunks/Dsyq3EtO.js";import{s as H}from"../chunks/D5hCbBBt.js";import{p as ze,b as It,i as Mt}from"../chunks/DVRtTgZt.js";const St=[];function xt(e,t=!1,a=!1){return K(e,new Map,"",St,null,a)}function K(e,t,a,s,n=null,o=!1){if(typeof e=="object"&&e!==null){var l=t.get(e);if(l!==void 0)return l;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(Oe(e)){var r=Array(e.length);t.set(e,r),n!==null&&t.set(n,r);for(var u=0;u<e.length;u+=1){var i=e[u];u in e&&(r[u]=K(i,t,a,s,null,o))}return r}if(Je(e)===Xe){r={},t.set(e,r),n!==null&&t.set(n,r);for(var c in e)r[c]=K(e[c],t,a,s,null,o);return r}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function"&&!o)return K(e.toJSON(),t,a,s,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}function Ee(e,t){return t}function At(e,t,a){for(var s=[],n=t.length,o=0;o<n;o++)it(t[o].e,s,!0);st(s,()=>{var l=s.length===0&&a!==null;if(l){var r=a,u=r.parentNode;nt(u),u.append(r),e.items.clear(),S(e,t[0].prev,t[n-1].next)}for(var i=0;i<n;i++){var c=t[i];l||(e.items.delete(c.k),S(e,c.prev,c.next)),ot(c.e,!l)}e.first===t[0]&&(e.first=t[0].prev)})}function Ie(e,t,a,s,n,o=null){var l=e,r=new Map,u=null;x&&De();var i=null,c=Ye(()=>{var g=a();return Oe(g)?g:g==null?[]:Re(g)}),d,v=!0;function m(){Tt(_,d,l,t,s),i!==null&&(d.length===0?(i.fragment?(l.before(i.fragment),i.fragment=null):Ve(i.effect),f.first=i.effect):et(i.effect,()=>{i=null}))}var f=je(()=>{d=b(c);var g=d.length;let w=!1;if(x){var k=Ge(l)===Le;k!==(g===0)&&(l=de(),fe(l),B(!1),w=!0)}for(var I=new Set,M=Ke,A=null,j=We(),E=0;E<g;E+=1){x&&Y.nodeType===Qe&&Y.data===Ze&&(l=Y,w=!0,B(!1));var R=d[E],T=s(R,E),y=v?null:r.get(T);y?(Z(y.v,R),y.i=E,j&&M.skipped_effects.delete(y.e)):(y=Nt(v?l:null,A,R,T,E,n,t,a),v&&(y.o=!0,A===null?u=y:A.next=y,A=y),r.set(T,y)),I.add(T)}if(g===0&&o&&!i)if(v)i={fragment:null,effect:ve(()=>o(l))};else{var U=document.createDocumentFragment(),h=Pe();U.append(h),i={fragment:U,effect:ve(()=>o(h))}}if(x&&g>0&&fe(de()),!v)if(j){for(const[p,C]of r)I.has(p)||M.skipped_effects.add(C.e);M.oncommit(m),M.ondiscard(()=>{})}else m();w&&B(!0),b(c)}),_={effect:f,items:r,first:u};v=!1,x&&(l=Y)}function Tt(e,t,a,s,n){var o=t.length,l=e.items,r=e.first,u,i=null,c=[],d=[],v,m,f,_;for(_=0;_<o;_+=1){if(v=t[_],m=n(v,_),f=l.get(m),e.first??=f,!f.o){f.o=!0;var g=i?i.next:r;S(e,i,f),S(e,f,g),se(f,g,a),i=f,c=[],d=[],r=i.next;continue}if((f.e.f&ie)!==0&&Ve(f.e),f!==r){if(u!==void 0&&u.has(f)){if(c.length<d.length){var w=d[0],k;i=w.prev;var I=c[0],M=c[c.length-1];for(k=0;k<c.length;k+=1)se(c[k],w,a);for(k=0;k<d.length;k+=1)u.delete(d[k]);S(e,I.prev,M.next),S(e,i,I),S(e,M,w),r=w,i=M,_-=1,c=[],d=[]}else u.delete(f),se(f,r,a),S(e,f.prev,f.next),S(e,f,i===null?e.first:i.next),S(e,i,f),i=f;continue}for(c=[],d=[];r!==null&&r.k!==m;)(r.e.f&ie)===0&&(u??=new Set).add(r),d.push(r),r=r.next;if(r===null)continue;f=r}c.push(f),i=f,r=f.next}let A=l.size>o;if(r!==null||u!==void 0){for(var j=u===void 0?[]:Re(u);r!==null;)(r.e.f&ie)===0&&j.push(r),r=r.next;var E=j.length;if(A=l.size-E>o,E>0){var R=null;At(e,j,R)}}if(A)for(const T of l.values())T.o||(S(e,i,T),i=T);e.effect.last=i&&i.e}function Nt(e,t,a,s,n,o,l,r){var u=(l&tt)!==0,i=(l&at)===0,c=u?i?he(a,!1,!1):$(a):a,d=(l&$e)===0?n:$(n),v={i:d,v:c,k:s,a:null,e:null,o:!1,prev:t,next:null};try{if(e===null){var m=document.createDocumentFragment();m.append(e=Pe())}return v.e=ve(()=>o(e,c,d,r)),t!==null&&(t.next=v),v}finally{}}function se(e,t,a){for(var s=e.next?e.next.e.nodes_start:a,n=t?t.e.nodes_start:a,o=e.e.nodes_start;o!==null&&o!==s;){var l=rt(o);n.before(o),o=l}}function S(e,t,a){t===null?(e.first=a,e.effect.first=a&&a.e):(t.e.next&&(t.e.next.prev=null),t.next=a,t.e.next=a&&a.e),a!==null&&(a.e.prev&&(a.e.prev.next=null),a.prev=t,a.e.prev=t&&t.e)}const Me=0,ne=1;function Ot(e,t,a,s,n){x&&De();var o=lt(),l=pt,r=o?$(l):he(l,!1,!1),u=o?$(l):he(l,!1,!1),i=new Et(e);je(()=>{var c=t(),d=!1;let v=x&&_e(c)===(e.data===Le);if(v&&(fe(de()),B(!1)),_e(c)){var m=ct(),f=!1;const _=g=>{if(!d){f=!0,m(!1),dt.ensure(),x&&B(!1);try{g()}finally{ft(),vt||ht()}}};c.then(g=>{_(()=>{Z(r,g),i.ensure(ne,s&&(w=>s(w,r)))})},g=>{_(()=>{if(Z(u,g),i.ensure(ne,n&&(w=>n(w,u))),!n)throw u.v})}),x?i.ensure(Me,a):ut(()=>{f||_(()=>{i.ensure(Me,a)})})}else Z(r,c),i.ensure(ne,s&&(_=>s(_,r)));return v&&B(!0),()=>{d=!0}})}function jt(e,t,a){mt(()=>{var s=gt(()=>t(e,a?.())||{});if(a&&s?.update){var n=!1,o={};bt(()=>{var l=a();wt(l),n&&_t(o,l)&&(o=l,s.update(l))}),n=!0}if(s?.destroy)return()=>s.destroy()})}function Se(e,t=!1){var a=t?" !important;":";",s="";for(var n in e){var o=e[n];o!=null&&o!==""&&(s+=" "+n+": "+o+a)}return s}function Dt(e,t){if(t){var a="",s,n;return Array.isArray(t)?(s=t[0],n=t[1]):s=t,s&&(a+=Se(s)),n&&(a+=Se(n,!0)),a=a.trim(),a===""?null:a}return String(e)}function oe(e,t={},a,s){for(var n in a){var o=a[n];t[n]!==o&&(a[n]==null?e.style.removeProperty(n):e.style.setProperty(n,o,s))}}function le(e,t,a,s){var n=e.__style;if(x||n!==t){var o=Dt(t,s);(!x||o!==e.getAttribute("style"))&&(o==null?e.removeAttribute("style"):e.style.cssText=o),e.__style=t}else s&&(Array.isArray(s)?(oe(e,a?.[0],s[0]),oe(e,a?.[1],s[1],"important")):oe(e,a,s));return s}function Lt(e,t){kt(e,["loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","emptied"],()=>t(e.readyState))}function Pt(e){return e()}function Rt(e){e.forEach(Pt)}const G=[],xe=[],W=[],Ae=[],He=Promise.resolve();let pe=!1;function Vt(){pe||(pe=!0,He.then(Ht))}function qt(){return Vt(),He}function zt(e){W.push(e)}const ue=new Set;let Q=0;function Ht(){do{for(;Q<G.length;){const e=G[Q];Q++,Bt(e.$$)}for(G.length=0,Q=0;xe.length;)xe.pop()();for(let e=0;e<W.length;e+=1){const t=W[e];ue.has(t)||(ue.add(t),t())}W.length=0}while(G.length);for(;Ae.length;)Ae.pop()();pe=!1,ue.clear()}function Bt(e){if(e.fragment!==null){e.update(),Rt(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(zt)}}const Ft={root:null,rootMargin:"0px",threshold:0,unobserveOnEnter:!1},D=(e,t)=>new CustomEvent(e,{detail:t});function Ut(e,t={}){const{root:a,rootMargin:s,threshold:n,unobserveOnEnter:o}=Object.assign(Object.assign({},Ft),t);let l={x:void 0,y:void 0},r={vertical:void 0,horizontal:void 0};if(typeof IntersectionObserver<"u"&&e){const u=new IntersectionObserver((i,c)=>{i.forEach(d=>{l.y>d.boundingClientRect.y?r.vertical="up":r.vertical="down",l.x>d.boundingClientRect.x?r.horizontal="left":r.horizontal="right",l={y:d.boundingClientRect.y,x:d.boundingClientRect.x};const v={inView:d.isIntersecting,entry:d,scrollDirection:r,node:e,observer:c};e.dispatchEvent(D("inview_change",v)),e.dispatchEvent(D("change",v)),d.isIntersecting?(e.dispatchEvent(D("inview_enter",v)),e.dispatchEvent(D("enter",v)),o&&c.unobserve(e)):(e.dispatchEvent(D("inview_leave",v)),e.dispatchEvent(D("leave",v)))})},{root:a,rootMargin:s,threshold:n});return qt().then(()=>{e.dispatchEvent(D("inview_init",{observer:u,node:e})),e.dispatchEvent(D("init",{observer:u,node:e}))}),u.observe(e),{destroy(){u.unobserve(e)}}}}var Jt=te('<div class="item"><div class="video-wrapper svelte-1q7u9m8"><video loop class="svelte-1q7u9m8"><track kind="captions"/></video></div> <div class="caption svelte-1q7u9m8"><p class="svelte-1q7u9m8"> </p></div></div>',2);function Xt(e,t){me(t,!0);const s={rootMargin:(()=>{const m=10+Math.floor(Math.random()*40);return console.log(m),m+"px"})()};let n,o=ze(t,"videoIsLoaded",15,!1),l=L(0);ee(()=>{b(l)>=HTMLMediaElement.HAVE_ENOUGH_DATA&&o(!0)});var r=Jt(),u=N(r),i=N(u);i.__touchmove=m=>{m.preventDefault()},i.disablePictureInPicture=!0,i.muted=!0,It(i,m=>n=m,()=>n),O(u),jt(u,(m,f)=>Ut?.(m,f),()=>s);var c=z(u,2),d=N(c),v=N(d,!0);O(d),O(c),O(r),ge(()=>{H(i,"src",t.src),Ct(v,t.caption)}),Ce("inview_enter",u,()=>n.play()),Ce("inview_leave",u,()=>n.pause()),Lt(i,m=>P(l,m)),F(e,r),be()}qe(["touchmove"]);var Yt=te('<div class="caption svelte-2bv31r"><p class="svelte-2bv31r">made by <a href="https://jasperkatzban.com" target="_blank" rel="noopener noreferrer" class="svelte-2bv31r">jasper</a></p></div>'),Gt=te('<div class="item"><div class="video-wrapper svelte-2bv31r"><img alt="" class="svelte-2bv31r"/></div> <!></div>');function Te(e,t){let a=ze(t,"credits",3,!1);var s=Gt(),n=N(s),o=N(n);H(o,"src","blank.png"),O(n);var l=z(n,2);{var r=u=>{var i=Yt();F(u,i)};Mt(l,u=>{a()&&u(r)})}O(s),F(e,s)}var Qt=Fe('<svg class="w-full h-full svelte-10063j0"><image></image></svg>');function Zt(e,t){me(t,!0);let a=L("cursor/0.svg"),s=0;Ne(()=>{const u=setInterval(()=>{let i=s%19;P(a,"cursor/"+i+".svg"),s++},55);return()=>{clearInterval(u)}});let o=(()=>{let u=L(0),i=L(0);const c=d=>{P(u,d.clientX,!0),P(i,d.clientY,!0)};return ee(()=>(window.addEventListener("mousemove",c),()=>{window.removeEventListener("mousemove",c)})),{get x(){return b(u)},get y(){return b(i)}}})();var l=Qt(),r=N(l);H(r,"height",36),O(l),ge(()=>{H(r,"href",b(a)),H(r,"x",o.x-18),H(r,"y",o.y-18)}),F(e,l),be()}const ce=[{src:"videos/aquarium disco.webm",validCaptions:["aquarium disco"]},{src:"videos/attention seeker.webm",validCaptions:["attention seeker","radiate","tickle me"]},{src:"videos/car wash.webm",validCaptions:["car wash","drunk rhythm","what shampoo do you use?"]},{src:"videos/cherish it while it lasts.webm",validCaptions:["cherish it while it lasts","radiate","steady-state","departure"]},{src:"videos/civil engineering.webm",validCaptions:["civil engineering","cherish it while it lasts","just hanging out"]},{src:"videos/constructive debate.webm",validCaptions:["constructive debate"]},{src:"videos/consult the mirror.webm",validCaptions:["consult the mirror"]},{src:"videos/pelican instincts.webm",validCaptions:["pelican instincts"]},{src:"videos/departure.webm",validCaptions:["departure","tickle me","attention seeker"]},{src:"videos/drunk rhythm.webm",validCaptions:["drunk rhythm","just a peek","the allure of freedom","car wash"]},{src:"videos/get a real job.webm",validCaptions:["get a real job","just hanging out","outer space"]},{src:"videos/heaven said no.webm",validCaptions:["heaven said no","just a peek","ready for takeoff"]},{src:"videos/ikea solar system.webm",validCaptions:["ikea solar system"]},{src:"videos/in my thoughts again.webm",validCaptions:["in my thoughts again","outer space","consult the mirror"]},{src:"videos/just a peek.webm",validCaptions:["just a peek","the allure of freedom","civil engineering","cherish it while it lasts"]},{src:"videos/just hanging out.webm",validCaptions:["just hanging out","heaven said no","cherish it while it lasts"]},{src:"videos/nice fade, dude.webm",validCaptions:["nice fade, dude","steady-state","cherish it while it lasts"]},{src:"videos/office work.webm",validCaptions:["office work","attention seeker","steady-state"]},{src:"videos/outer space.webm",validCaptions:["outer space","in my thoughts again"]},{src:"videos/public transit.webm",validCaptions:["public transit","get a real job","taking the dog for a walk","tickle me"]},{src:"videos/radiate.webm",validCaptions:["radiate","steady-state","consult the mirror","nice fade, dude"]},{src:"videos/ready for takeoff.webm",validCaptions:["ready for takeoff","steady-state","the allure of freedom"]},{src:"videos/right on time.webm",validCaptions:["right on time","departure","attention seeker"]},{src:"videos/Sisyphus.webm",validCaptions:["Sisyphus","public transit"]},{src:"videos/steady-state.webm",validCaptions:["steady-state","departure","in my thoughts again","outer space","cherish it while it lasts"]},{src:"videos/superfund waterpark.webm",validCaptions:["superfund waterpark","consult the mirror"]},{src:"videos/taking the dog for a walk.webm",validCaptions:["taking the dog for a walk","right on time","steady-state","Sisyphus"]},{src:"videos/the allure of freedom.webm",validCaptions:["the allure of freedom","outer space","just a peek","ready for takeoff","cherish it while it lasts"]},{src:"videos/tickle me.webm",validCaptions:["tickle me","office work","in my thoughts again","outer space"]},{src:"videos/what shampoo do you use.webm",validCaptions:["what shampoo do you use?","just hanging out","attention seeker","the allure of freedom"]}],Kt=["aquarium disco","attention seeker","car wash","cherish it while it lasts","civil engineering","constructive debate","consult the mirror","pelican instincts","departure","drunk rhythm","get a real job","heaven said no","ikea solar system","in my thoughts again","just a peek","just hanging out","nice fade, dude","office work","outer space","public transit","radiate","ready for takeoff","right on time","Sisyphus","steady-state","superfund waterpark","taking the dog for a walk","the allure of freedom","tickle me","what shampoo do you use?"];var Wt=te('<div class="page svelte-1uha8ag"><div class="content svelte-1uha8ag" role="none"><div class="grid svelte-1uha8ag" id="content-grid"><!> <!> <!></div></div> <div class="loader svelte-1uha8ag"><p class="svelte-1uha8ag">loading...</p></div></div> <!>',1);function na(e,t){me(t,!0);const a=2e3;ce.sort((h,p)=>h.validCaptions.length-p.validCaptions.length);let s=L(ke(i(ce))),n=L(!1),o=ke(Array.apply(null,Array(b(s).length)).map(()=>!1));ee(()=>{P(n,!o.includes(!1))});function l(h){for(let p=h.length-1;p>0;p--){const C=Math.floor(Math.random()*(p+1));[h[p],h[C]]=[h[C],h[p]]}return h}function r(){let h=new Set;return Kt.forEach(p=>{h.add(p)}),h}function u(){const h=b(s);let p=new Set,C=0;const ae=()=>(p=r(),ce.forEach(J=>{let q,V=xt(J.validCaptions);do{if(V.length==0)return!1;let re=V.length-1,we=Math.round(Math.random()*re);q=V[we],V.splice(we,1)}while(!p.has(q));let X=q;p.delete(X);let Be=b(s).findIndex(re=>re.src==J.src);h[Be].caption=X}),!0);do C++,ae()==!1;while(p.size>0&&C<a);P(s,h,!0)}function i(h){let p=h.map(C=>({src:C.src,caption:C.validCaptions[0]}));return l(p),p}function c(){return Promise.resolve(b(s))}let d=L(null),v=L(4),m=yt(()=>_(b(v)));Ne(()=>(window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)})),ee(()=>{P(d,document.getElementById("content-grid"),!0)});function f(){if(b(d)){const h=window.getComputedStyle(b(d));P(v,h.getPropertyValue("grid-template-columns").split(" ").length,!0)}}function _(h){let p=0;return h<3?p=0:h<5?p=1:p=0,p}var g=Wt(),w=ye(g);let k;var I=N(w);I.__mouseup=()=>{u()};let M;var A=N(I),j=N(A);Ot(j,c,null,(h,p)=>{var C=Ue(),ae=ye(C);Ie(ae,17,()=>b(p),Ee,(J,q,V)=>{Xt(J,{get src(){return b(q).src},get caption(){return b(q).caption},get videoIsLoaded(){return o[V]},set videoIsLoaded(X){o[V]=X}})}),F(h,C)});var E=z(j,2);Ie(E,17,()=>({length:b(m)}),Ee,(h,p)=>{Te(h,{})});var R=z(E,2);Te(R,{credits:!0}),O(A),O(I);var T=z(I,2);let y;O(w);var U=z(w,2);Zt(U,{}),ge(()=>{k=le(w,"",k,{height:b(n)?"min-content":"100vh"}),M=le(I,"",M,{display:b(n)?"block":"none"}),y=le(T,"",y,{display:b(n)?"none":"flex"})}),F(e,g),be()}qe(["mouseup"]);export{na as component};
